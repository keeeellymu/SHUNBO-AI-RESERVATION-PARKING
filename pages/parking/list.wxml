<view class="parking-container">
  <view class="search-bar">
    <view class="search-input-wrapper">
      <text class="search-icon">ğŸ”</text>
      <input type="text" placeholder="æœç´¢åœè½¦åœº" bindinput="onSearchInput" value="{{searchKeyword}}"/>
    </view>
  </view>

  <view class="filter-bar">
    <view class="filter-item {{sortType === 'distance' ? 'active' : ''}}" bindtap="setSortType" data-type="distance">
      è·ç¦»ä¼˜å…ˆ
    </view>
    <view class="filter-item {{sortType === 'price' ? 'active' : ''}}" bindtap="setSortType" data-type="price">
      ä»·æ ¼ä¼˜å…ˆ
    </view>
    <view class="filter-item {{sortType === 'rating' ? 'active' : ''}}" bindtap="setSortType" data-type="rating">
      è¯„åˆ†ä¼˜å…ˆ
    </view>
  </view>

  <view class="area-filter" wx:if="{{areaList.length > 0}}">
    <view class="area-filter-title">åŒºåŸŸç­›é€‰ï¼š</view>
    <scroll-view scroll-x="true" class="area-scroll">
      <view class="area-item {{selectedArea === '' ? 'active' : ''}}" bindtap="setArea" data-area="">
        å…¨éƒ¨
      </view>
      <view wx:for="{{areaList}}" wx:key="*this" 
            class="area-item {{selectedArea === item ? 'active' : ''}}" 
            bindtap="setArea" 
            data-area="{{item}}">
        {{item}}
      </view>
    </scroll-view>
  </view>

  <view class="parking-list">
    <block wx:if="{{parkingList.length > 0}}">
      <view class="parking-item" wx:for="{{parkingList}}" wx:key="id" bindtap="navigateToDetail" data-id="{{item.id}}">
        <view class="parking-image">
          <view class="parking-icon">{{item.name[0]}}</view>
        </view>
        
        <view class="parking-info">
          <view class="parking-name">{{item.name}}</view>
          <view class="parking-address">{{item.address}}</view>
          
          <view class="parking-details">
            <view class="distance">è·ç¦» {{item.distance.toFixed(1)}}km</view>
            <view class="area">{{item.area}}</view>
            <view class="price">Â¥{{item.hourlyRate}}å…ƒ/å°æ—¶</view>
            <view class="rating">â­ {{item.rating}}</view>
          </view>
          
          <view class="available-spots">
            <text class="available-count">{{item.availableSpaces || 0}}</text>
            <text class="available-label">ä¸ªç©ºä½™è½¦ä½</text>
          </view>
        </view>
      </view>
    </block>
    
    <view wx:else class="empty-state">
      <text>æš‚æ— åœè½¦åœºæ•°æ®</text>
    </view>
  </view>

  <view class="load-more" wx:if="{{hasMore || loading}}">
    <text wx:if="{{loading}}">åŠ è½½ä¸­...</text>
    <text wx:elif="{{hasMore}}" bindtap="loadMore">ç‚¹å‡»åŠ è½½æ›´å¤š</text>
    <text wx:else>--- åˆ°åº•äº† ---</text>
  </view>
</view>