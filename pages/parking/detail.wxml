<!--pages/parking/detail.wxml-->
<view class="container">
  <!-- 加载中 -->
  <view wx:if="{{loading}}" class="loading">
    <view class="loading-spinner"></view>
    <text>加载中...</text>
  </view>

  <!-- 错误提示 -->
  <view wx:if="{{error && !loading}}" class="error">
    <text>{{errorMsg}}</text>
    <button bindtap="getParkingDetail">重试</button>
  </view>

  <!-- 停车场详情 -->
  <view wx:if="{{!loading && !error && parkingDetail}}" class="detail-content">
    <!-- 停车场名称 -->
    <view class="parking-name">{{parkingDetail.name || '停车场'}}</view>
    
    <!-- 基本信息 -->
    <view class="info-section">
      <view class="info-item">
        <text class="label">地址：</text>
        <text class="value">{{parkingDetail.address || '地址不详'}}</text>
      </view>
      <view class="info-item">
        <text class="label">总车位：</text>
        <text class="value">{{parkingDetail.totalSpaces || 0}}</text>
      </view>
      <view class="info-item">
        <text class="label">可用车位：</text>
        <text class="value available">{{parkingDetail.availableSpaces || 0}}</text>
      </view>
      <view class="info-item">
        <text class="label">营业时间：</text>
        <text class="value">{{parkingDetail.businessHours || '全天开放'}}</text>
      </view>
      <view class="info-item">
        <text class="label">收费标准：</text>
        <text class="value">{{parkingDetail.priceInfo || '详情咨询停车场'}}</text>
      </view>
    </view>

    <!-- 操作按钮 -->
    <view class="action-buttons">
      <button class="navigate-btn" bindtap="navigateToParking">导航前往</button>
      <button class="reserve-btn" bindtap="makeReservation" type="primary">立即预约</button>
    </view>
  </view>

  <!-- 无数据提示 -->
  <view wx:if="{{!loading && !error && !parkingDetail}}" class="empty">
    <text>暂无停车场信息</text>
  </view>
</view>